# Promptfoo test config for suggest-allocation
# Run: aspora test wealth/suggest-allocation --framework promptfoo
# Or:  promptfoo eval -c tests/test_promptfoo.yaml

description: "suggest-allocation regression tests"

providers:
  - id: openrouter:anthropic/claude-sonnet-4.5
    config:
      temperature: 0

prompts:
  - file://../../SKILL.md

tests:
  - description: "Basic input produces valid output"
    vars:
      input: "file://../../fixtures/sample_input.json"
    assert:
      - type: is-json
      - type: contains-json
        value:
          confidence: "high"
      - type: llm-rubric
        value: "Output is relevant to the input and includes reasoning"

  - description: "Empty input is handled gracefully"
    vars:
      input: "{}"
    assert:
      - type: is-json
      - type: not-contains
        value: "error"
